{"ast":null,"code":"import _regeneratorRuntime from\"/home/gabriel/Trybe/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/gabriel/Trybe/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/gabriel/Trybe/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/gabriel/Trybe/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/gabriel/Trybe/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/gabriel/Trybe/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Redirect}from'react-router-dom';import{createUser}from'../services/userAPI';import'../Style/Login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var tunesImg=require('../TrybeTunes.png');var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);_this=_super.call(this);_this.handleChange=function(_ref){var target=_ref.target;var number=3;var loginLength=target.value.length;_this.setState({inputName:target.value});if(loginLength>=number){_this.setState({showButton:true});}else{_this.setState({showButton:false});}};_this.handleClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var inputName;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({loggedIn:false});inputName=_this.state.inputName;_context.next=4;return createUser({name:inputName});case 4:_this.setState({loggedIn:true});case 5:case\"end\":return _context.stop();}}},_callee);}));_this.loadingFunction=function(){var loggedIn=_this.state.loggedIn;var showButton=_this.state.showButton;if(loggedIn===''){var result=/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",\"data-testid\":\"page-login\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"TrybeTunes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"login-image\",children:/*#__PURE__*/_jsx(\"img\",{src:tunesImg,alt:\"TrybeTunes logo\"})}),/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",className:\"login-input-button\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"login-input\",onChange:_this.handleChange,\"data-testid\":\"login-name-input\",type:\"text\",placeholder:\"Insira seu nome de usu\\xE1rio\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"data-testid\":\"login-submit-button\",disabled:!showButton,onClick:_this.handleClick,children:\"Entrar\"})]})]});return result;}if(loggedIn===false){var _result=/*#__PURE__*/_jsx(\"h2\",{id:\"loading-h2\",children:\"Carregando...\"});return _result;}if(loggedIn===true){var _result2=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",\"data-testid\":\"page-login\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Bem vindo ao TrybeTunes!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"login-image\",children:/*#__PURE__*/_jsx(\"img\",{src:tunesImg,alt:\"TrybeTunes logo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-input-button\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"login-input\",onChange:_this.handleChange,\"data-testid\":\"login-name-input\",type:\"text\",placeholder:\"Insira seu nome de usu\\xE1rio\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"data-testid\":\"login-submit-button\",disabled:!showButton,onClick:_this.handleClick,children:\"Entrar\"})]})]}),/*#__PURE__*/_jsx(Redirect,{to:\"/search\"})]});return _result2;}};_this.state={showButton:false,inputName:'',loggedIn:''};return _this;}_createClass(Login,[{key:\"render\",value:function render(){console.log(tunesImg);return this.loadingFunction();}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["/home/gabriel/Trybe/TrybeTunes/src/pages/Login.js"],"names":["React","Component","Redirect","createUser","tunesImg","require","Login","handleChange","target","number","loginLength","value","length","setState","inputName","showButton","handleClick","loggedIn","state","name","loadingFunction","result","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { createUser } from '../services/userAPI';\nimport '../Style/Login.css';\n\nconst tunesImg = require('../TrybeTunes.png');\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      showButton: false,\n      inputName: '',\n      loggedIn: '',\n    };\n  }\n\n  handleChange = ({ target }) => {\n    const number = 3;\n    const loginLength = target.value.length;\n    this.setState({\n      inputName: target.value,\n    });\n    if (loginLength >= number) {\n      this.setState({\n        showButton: true,\n      });\n    } else {\n      this.setState({\n        showButton: false,\n      });\n    }\n  }\n\n  handleClick = async () => {\n    this.setState({\n      loggedIn: false,\n    });\n    const { inputName } = this.state;\n    await createUser({ name: inputName });\n    this.setState({\n      loggedIn: true,\n    });\n  }\n\n  loadingFunction= () => {\n    const { loggedIn } = this.state;\n    const { showButton } = this.state;\n    if (loggedIn === '') {\n      const result = (\n        <div className=\"login-container\" data-testid=\"page-login\">\n          <h1>TrybeTunes</h1>\n          <div className=\"login-image\">\n            <img\n              src= { tunesImg }\n              alt=\"TrybeTunes logo\"\n            />\n          </div>\n          <form autoComplete=\"off\" className=\"login-input-button\">\n            <input\n              id=\"login-input\"\n              onChange={ this.handleChange }\n              data-testid=\"login-name-input\"\n              type=\"text\"\n              placeholder=\"Insira seu nome de usuário\"\n            />\n            <button\n              type=\"button\"\n              data-testid=\"login-submit-button\"\n              disabled={ !showButton }\n              onClick={ this.handleClick }\n            >\n              Entrar\n            </button>\n          </form>\n        </div>\n      );\n      return result;\n    } if (loggedIn === false) {\n      const result = (\n        <h2 id=\"loading-h2\">Carregando...</h2>\n      );\n      return result;\n    } if (loggedIn === true) {\n      const result = (\n        <>\n          <div className=\"login-container\" data-testid=\"page-login\">\n            <h1>Bem vindo ao TrybeTunes!</h1>\n            <div className=\"login-image\">\n              <img\n                src={ tunesImg }\n                alt=\"TrybeTunes logo\"\n              />\n            </div>\n            <div className=\"login-input-button\">\n              <input\n                id=\"login-input\"\n                onChange={ this.handleChange }\n                data-testid=\"login-name-input\"\n                type=\"text\"\n                placeholder=\"Insira seu nome de usuário\"\n              />\n              <button\n                type=\"button\"\n                data-testid=\"login-submit-button\"\n                disabled={ !showButton }\n                onClick={ this.handleClick }\n              >\n                Entrar\n              </button>\n            </div>\n          </div>\n          <Redirect to=\"/search\" />\n        </>\n      );\n      return result;\n    }\n  }\n\n  render() {\n    console.log(tunesImg)\n    return (\n      this.loadingFunction()\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}