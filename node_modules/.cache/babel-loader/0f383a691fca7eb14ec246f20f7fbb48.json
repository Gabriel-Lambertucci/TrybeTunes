{"ast":null,"code":"import _defineProperty from\"/home/gabriel/Trybe/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/home/gabriel/Trybe/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/gabriel/Trybe/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/gabriel/Trybe/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/gabriel/Trybe/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/gabriel/Trybe/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/gabriel/Trybe/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom/cjs/react-router-dom.min';import Header from'../components/Header';import{getUser,updateUser}from'../services/userAPI';import'../Style/ProfileEdit.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var carregando='Carregando...';var ProfileEdit=/*#__PURE__*/function(_Component){_inherits(ProfileEdit,_Component);var _super=_createSuper(ProfileEdit);function ProfileEdit(){var _this;_classCallCheck(this,ProfileEdit);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loading:'',buttonDisabled:true,inputName:'',inputEmail:'',inputDescription:''};_this.updatingUser=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this$state,inputName,inputEmail,inputDescription;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state=_this.state,inputName=_this$state.inputName,inputEmail=_this$state.inputEmail,inputDescription=_this$state.inputDescription;if(inputName.length>0&&inputEmail.length>0&&inputDescription.length>0){_this.setState({buttonDisabled:false});}_context.next=4;return updateUser({name:inputName,email:inputEmail,description:inputDescription});case 4:case\"end\":return _context.stop();}}},_callee);}));_this.onChangeHandler=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref2){var target,name,value;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:target=_ref2.target;name=target.name,value=target.value;_this.setState(_defineProperty({},name,value),_this.updatingUser);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref3.apply(this,arguments);};}();return _this;}_createClass(ProfileEdit,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var result;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:this.setState({loading:carregando});_context3.next=3;return getUser();case 3:result=_context3.sent;this.setState({loading:'off',inputName:result.name,inputEmail:result.email,inputDescription:result.description});case 5:case\"end\":return _context3.stop();}}},_callee3,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"showProfile\",value:function showProfile(){var loading=this.state.loading;if(loading==='off'){var buttonDisabled=this.state.buttonDisabled;var _this$state2=this.state,inputName=_this$state2.inputName,inputEmail=_this$state2.inputEmail,inputDescription=_this$state2.inputDescription;return/*#__PURE__*/_jsx(\"div\",{\"data-testid\":\"page-profile-edit\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"profile-edit-form\",autoComplete:\"off\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"image-div\",children:/*#__PURE__*/_jsx(\"img\",{id:\"profile-img\",\"data-testid\":\"profile-image\",src:\"https://cdn-icons-png.flaticon.com/512/64/64572.png\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{id:\"inputs-div\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"labels\",htmlFor:\"input-name\",children:[\"Nome:\",/*#__PURE__*/_jsx(\"input\",{id:\"input-name\",type:\"text\",name:\"inputName\",\"data-testid\":\"edit-input-name\",onChange:this.onChangeHandler,value:inputName})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"labels\",htmlFor:\"input-email\",children:[\"E-mail:\",/*#__PURE__*/_jsx(\"input\",{id:\"input-email\",type:\"email\",name:\"inputEmail\",\"data-testid\":\"edit-input-email\",onChange:this.onChangeHandler,value:inputEmail})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"labels\",htmlFor:\"input-description\",children:[\"Descri\\xE7\\xE3o:\",/*#__PURE__*/_jsx(\"input\",{id:\"input-description\",type:\"text\",name:\"inputDescription\",\"data-testid\":\"edit-input-description\",onChange:this.onChangeHandler,value:inputDescription})]})]}),/*#__PURE__*/_jsx(\"div\",{id:\"link-div\",children:/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"data-testid\":\"edit-button-save\",disabled:buttonDisabled,onClick:this.onClickHanlder,children:\"Salvar\"})})})]})});}if(loading===''||loading===carregando){return/*#__PURE__*/_jsx(\"h2\",{children:\"Carregando...\"});}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),this.showProfile()]});}}]);return ProfileEdit;}(Component);export default ProfileEdit;","map":{"version":3,"sources":["/home/gabriel/Trybe/TrybeTunes/src/pages/ProfileEdit.js"],"names":["React","Component","Link","Header","getUser","updateUser","carregando","ProfileEdit","state","loading","buttonDisabled","inputName","inputEmail","inputDescription","updatingUser","length","setState","name","email","description","onChangeHandler","target","value","result","onClickHanlder","showProfile"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\nimport Header from '../components/Header';\nimport { getUser, updateUser } from '../services/userAPI';\nimport '../Style/ProfileEdit.css';\n\nconst carregando = 'Carregando...';\n\nclass ProfileEdit extends Component {\n  state = {\n    loading: '',\n    buttonDisabled: true,\n    inputName: '',\n    inputEmail: '',\n    inputDescription: '',\n  };\n\n  async componentDidMount() {\n    this.setState({ loading: carregando });\n    const result = await getUser();\n    this.setState(\n      {\n        loading: 'off',\n        inputName: result.name,\n        inputEmail: result.email,\n        inputDescription: result.description,\n      },\n    );\n  }\n\n  updatingUser = async () => {\n    const { inputName, inputEmail, inputDescription } = this.state;\n    if (\n      inputName.length > 0\n      && inputEmail.length > 0\n      && inputDescription.length > 0\n    ) {\n      this.setState({ buttonDisabled: false });\n    }\n    await updateUser(\n      { name: inputName,\n        email: inputEmail,\n        description: inputDescription,\n      },\n    );\n  }\n\n  onChangeHandler = async ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: value }, this.updatingUser);\n  }\n\n  showProfile() {\n    const { loading } = this.state;\n    if (loading === 'off') {\n      const { buttonDisabled } = this.state;\n      const { inputName, inputEmail, inputDescription } = this.state;\n      return (\n        <div data-testid=\"page-profile-edit\">\n          <form id=\"profile-edit-form\" autoComplete=\"off\">\n            <div id=\"image-div\">\n              <img id=\"profile-img\" data-testid=\"profile-image\" src=\"https://cdn-icons-png.flaticon.com/512/64/64572.png\" alt=\"\" />\n            </div>\n            <div id=\"inputs-div\">\n              <label className=\"labels\" htmlFor=\"input-name\">\n                Nome:\n                <input\n                  id=\"input-name\"\n                  type=\"text\"\n                  name=\"inputName\"\n                  data-testid=\"edit-input-name\"\n                  onChange={ this.onChangeHandler }\n                  value={ inputName }\n                />\n              </label>\n              <label className=\"labels\" htmlFor=\"input-email\">\n                E-mail:\n                <input\n                  id=\"input-email\"\n                  type=\"email\"\n                  name=\"inputEmail\"\n                  data-testid=\"edit-input-email\"\n                  onChange={ this.onChangeHandler }\n                  value={ inputEmail }\n                />\n              </label>\n              <label className=\"labels\" htmlFor=\"input-description\">\n                Descrição:\n                <input\n                  id=\"input-description\"\n                  type=\"text\"\n                  name=\"inputDescription\"\n                  data-testid=\"edit-input-description\"\n                  onChange={ this.onChangeHandler }\n                  value={ inputDescription }\n                />\n              </label>\n            </div>\n            <div id=\"link-div\">\n              <Link\n                to=\"/profile\"\n              >\n                <button\n                  type=\"button\"\n                  data-testid=\"edit-button-save\"\n                  disabled={ buttonDisabled }\n                  onClick={ this.onClickHanlder }\n                >\n                  Salvar\n                </button>\n              </Link>\n            </div>\n          </form>\n        </div>\n\n      );\n    }\n    if (loading === '' || loading === carregando) {\n      return <h2>Carregando...</h2>;\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <Header />\n        {this.showProfile()}\n      </>\n    );\n  }\n}\n\nexport default ProfileEdit;\n"]},"metadata":{},"sourceType":"module"}