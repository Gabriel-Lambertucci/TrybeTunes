{"ast":null,"code":"var _jsxFileName = \"/home/gabriel/Trybe/Projetos/Projeto 11 - Trybe Tunes/sd-018-b-project-trybetunes/src/pages/ProfileEdit.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\nimport Header from '../components/Header';\nimport { getUser, updateUser } from '../services/userAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst carregando = 'Carregando...';\n\nclass ProfileEdit extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      loading: '',\n      buttonDisabled: true,\n      inputName: '',\n      inputEmail: '',\n      inputDescription: '',\n      inputImage: ''\n    };\n\n    this.updatingUser = async () => {\n      const {\n        inputName,\n        inputEmail,\n        inputDescription,\n        inputImage\n      } = this.state;\n\n      if (inputName.length > 0 && inputEmail.length > 0 && inputDescription.length > 0 && inputImage.length > 0) {\n        this.setState({\n          buttonDisabled: false\n        });\n      }\n\n      await updateUser({\n        name: inputName,\n        email: inputEmail,\n        image: inputImage,\n        description: inputDescription\n      });\n    };\n\n    this.onChangeHandler = async _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      }, this.updatingUser);\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({\n      loading: carregando\n    });\n    await getUser();\n    this.setState({\n      loading: 'off'\n    });\n  }\n\n  showProfile() {\n    const {\n      loading\n    } = this.state;\n\n    if (loading === 'off') {\n      const {\n        buttonDisabled\n      } = this.state;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-testid\": \"page-profile\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"inputName\",\n            \"data-testid\": \"edit-input-name\",\n            placeholder: \"Insira seu nome\",\n            onChange: this.onChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"inputEmail\",\n            \"data-testid\": \"edit-input-email\",\n            placeholder: \"Insira seu e-mail\",\n            onChange: this.onChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"inputDescription\",\n            \"data-testid\": \"edit-input-description\",\n            placeholder: \"Insira uma descri\\xE7\\xE3o\",\n            onChange: this.onChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"inputImage\",\n            \"data-testid\": \"edit-input-image\",\n            placeholder: \"Insira um link\",\n            onChange: this.onChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/profile\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              \"data-testid\": \"edit-button-save\",\n              disabled: buttonDisabled,\n              onClick: this.onClickHanlder,\n              children: \"Salvar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (loading === '' || loading === carregando) {\n      return /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Carregando...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 14\n      }, this);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), this.showProfile()]\n    }, void 0, true);\n  }\n\n}\n\nexport default ProfileEdit;","map":{"version":3,"sources":["/home/gabriel/Trybe/Projetos/Projeto 11 - Trybe Tunes/sd-018-b-project-trybetunes/src/pages/ProfileEdit.js"],"names":["React","Component","Link","Header","getUser","updateUser","carregando","ProfileEdit","state","loading","buttonDisabled","inputName","inputEmail","inputDescription","inputImage","updatingUser","length","setState","name","email","image","description","onChangeHandler","target","value","componentDidMount","showProfile","onClickHanlder","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\nimport Header from '../components/Header';\nimport { getUser, updateUser } from '../services/userAPI';\n\nconst carregando = 'Carregando...';\n\nclass ProfileEdit extends Component {\n  state = {\n    loading: '',\n    buttonDisabled: true,\n    inputName: '',\n    inputEmail: '',\n    inputDescription: '',\n    inputImage: '',\n  };\n\n  async componentDidMount() {\n    this.setState({ loading: carregando });\n    await getUser();\n    this.setState({ loading: 'off' });\n  }\n\n  updatingUser = async () => {\n    const { inputName, inputEmail, inputDescription, inputImage } = this.state;\n    if (\n      inputName.length > 0\n      && inputEmail.length > 0\n      && inputDescription.length > 0 && inputImage.length > 0\n    ) {\n      this.setState({ buttonDisabled: false });\n    }\n    await updateUser(\n      { name: inputName,\n        email: inputEmail,\n        image: inputImage,\n        description: inputDescription,\n      },\n    );\n  }\n\n  onChangeHandler = async ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: value }, this.updatingUser);\n  }\n\n  showProfile() {\n    const { loading } = this.state;\n    if (loading === 'off') {\n      const { buttonDisabled } = this.state;\n      return (\n        <div data-testid=\"page-profile\">\n          <form>\n            <input\n              type=\"text\"\n              name=\"inputName\"\n              data-testid=\"edit-input-name\"\n              placeholder=\"Insira seu nome\"\n              onChange={ this.onChangeHandler }\n            />\n            <input\n              type=\"email\"\n              name=\"inputEmail\"\n              data-testid=\"edit-input-email\"\n              placeholder=\"Insira seu e-mail\"\n              onChange={ this.onChangeHandler }\n            />\n            <input\n              type=\"text\"\n              name=\"inputDescription\"\n              data-testid=\"edit-input-description\"\n              placeholder=\"Insira uma descrição\"\n              onChange={ this.onChangeHandler }\n            />\n            <input\n              type=\"text\"\n              name=\"inputImage\"\n              data-testid=\"edit-input-image\"\n              placeholder=\"Insira um link\"\n              onChange={ this.onChangeHandler }\n            />\n            <Link to=\"/profile\">\n              <button\n                type=\"button\"\n                data-testid=\"edit-button-save\"\n                disabled={ buttonDisabled }\n                onClick={ this.onClickHanlder }\n              >\n                Salvar\n              </button>\n            </Link>\n          </form>\n        </div>\n\n      );\n    }\n    if (loading === '' || loading === carregando) {\n      return <h2>Carregando...</h2>;\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <Header />\n        {this.showProfile()}\n      </>\n    );\n  }\n}\n\nexport default ProfileEdit;\n"]},"metadata":{},"sourceType":"module"}