{"ast":null,"code":"var _jsxFileName = \"/home/gabriel/Trybe/Projetos/Projeto 11 - Trybe Tunes/sd-018-b-project-trybetunes/src/pages/ProfileEdit.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\nimport Header from '../components/Header';\nimport { getUser, updateUser } from '../services/userAPI';\nimport '../Style/ProfileEdit.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst carregando = 'Carregando...';\n\nclass ProfileEdit extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      loading: '',\n      buttonDisabled: true,\n      inputName: '',\n      inputEmail: '',\n      inputDescription: ''\n    };\n\n    this.updatingUser = async () => {\n      const {\n        inputName,\n        inputEmail,\n        inputDescription\n      } = this.state;\n\n      if (inputName.length > 0 && inputEmail.length > 0 && inputDescription.length > 0) {\n        this.setState({\n          buttonDisabled: false\n        });\n      }\n\n      await updateUser({\n        name: inputName,\n        email: inputEmail,\n        description: inputDescription\n      });\n    };\n\n    this.onChangeHandler = async _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      }, this.updatingUser);\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({\n      loading: carregando\n    });\n    const result = await getUser();\n    this.setState({\n      loading: 'off',\n      inputName: result.name,\n      inputEmail: result.email,\n      inputDescription: result.description\n    });\n  }\n\n  showProfile() {\n    const {\n      loading\n    } = this.state;\n\n    if (loading === 'off') {\n      const {\n        buttonDisabled\n      } = this.state;\n      const {\n        inputName,\n        inputEmail,\n        inputDescription\n      } = this.state;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-testid\": \"page-profile-edit\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          id: \"profile-edit-form\",\n          autoComplete: \"off\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            id: \"profile-img\",\n            \"data-testid\": \"profile-image\",\n            src: \"https://cdn-icons-png.flaticon.com/512/64/64572.png\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"inputs-div\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"inputName\",\n              \"data-testid\": \"edit-input-name\",\n              placeholder: \"Insira seu nome\",\n              onChange: this.onChangeHandler,\n              value: inputName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"inputEmail\",\n              \"data-testid\": \"edit-input-email\",\n              placeholder: \"Insira seu e-mail\",\n              onChange: this.onChangeHandler,\n              value: inputEmail\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"inputDescription\",\n              \"data-testid\": \"edit-input-description\",\n              placeholder: \"Insira uma descri\\xE7\\xE3o\",\n              onChange: this.onChangeHandler,\n              value: inputDescription\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"link-div\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: {\n                pathname: '/profile',\n                state: {\n                  loadingFromEdit: 'off'\n                }\n              },\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                \"data-testid\": \"edit-button-save\",\n                disabled: buttonDisabled,\n                onClick: this.onClickHanlder,\n                children: \"Salvar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (loading === '' || loading === carregando) {\n      return /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Carregando...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 14\n      }, this);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), this.showProfile()]\n    }, void 0, true);\n  }\n\n}\n\nexport default ProfileEdit;","map":{"version":3,"sources":["/home/gabriel/Trybe/Projetos/Projeto 11 - Trybe Tunes/sd-018-b-project-trybetunes/src/pages/ProfileEdit.js"],"names":["React","Component","Link","Header","getUser","updateUser","carregando","ProfileEdit","state","loading","buttonDisabled","inputName","inputEmail","inputDescription","updatingUser","length","setState","name","email","description","onChangeHandler","target","value","componentDidMount","result","showProfile","pathname","loadingFromEdit","onClickHanlder","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\nimport Header from '../components/Header';\nimport { getUser, updateUser } from '../services/userAPI';\nimport '../Style/ProfileEdit.css';\n\nconst carregando = 'Carregando...';\n\nclass ProfileEdit extends Component {\n  state = {\n    loading: '',\n    buttonDisabled: true,\n    inputName: '',\n    inputEmail: '',\n    inputDescription: '',\n  };\n\n  async componentDidMount() {\n    this.setState({ loading: carregando });\n    const result = await getUser();\n    this.setState(\n      {\n        loading: 'off',\n        inputName: result.name,\n        inputEmail: result.email,\n        inputDescription: result.description,\n      },\n    );\n  }\n\n  updatingUser = async () => {\n    const { inputName, inputEmail, inputDescription } = this.state;\n    if (\n      inputName.length > 0\n      && inputEmail.length > 0\n      && inputDescription.length > 0\n    ) {\n      this.setState({ buttonDisabled: false });\n    }\n    await updateUser(\n      { name: inputName,\n        email: inputEmail,\n        description: inputDescription,\n      },\n    );\n  }\n\n  onChangeHandler = async ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: value }, this.updatingUser);\n  }\n\n  showProfile() {\n    const { loading } = this.state;\n    if (loading === 'off') {\n      const { buttonDisabled } = this.state;\n      const { inputName, inputEmail, inputDescription } = this.state;\n      return (\n        <div data-testid=\"page-profile-edit\">\n          <form id=\"profile-edit-form\" autoComplete=\"off\">\n            <img id=\"profile-img\" data-testid=\"profile-image\" src=\"https://cdn-icons-png.flaticon.com/512/64/64572.png\" alt=\"\" />\n            <div id=\"inputs-div\">\n              <input\n                type=\"text\"\n                name=\"inputName\"\n                data-testid=\"edit-input-name\"\n                placeholder=\"Insira seu nome\"\n                onChange={ this.onChangeHandler }\n                value={ inputName }\n              />\n              <input\n                type=\"email\"\n                name=\"inputEmail\"\n                data-testid=\"edit-input-email\"\n                placeholder=\"Insira seu e-mail\"\n                onChange={ this.onChangeHandler }\n                value={ inputEmail }\n              />\n              <input\n                type=\"text\"\n                name=\"inputDescription\"\n                data-testid=\"edit-input-description\"\n                placeholder=\"Insira uma descrição\"\n                onChange={ this.onChangeHandler }\n                value={ inputDescription }\n              />\n            </div>\n            <div id=\"link-div\">\n              <Link\n                to={ {\n                  pathname: '/profile',\n                  state: { loadingFromEdit: 'off' },\n                } }\n              >\n                <button\n                  type=\"button\"\n                  data-testid=\"edit-button-save\"\n                  disabled={ buttonDisabled }\n                  onClick={ this.onClickHanlder }\n                >\n                  Salvar\n                </button>\n              </Link>\n            </div>\n          </form>\n        </div>\n\n      );\n    }\n    if (loading === '' || loading === carregando) {\n      return <h2>Carregando...</h2>;\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <Header />\n        {this.showProfile()}\n      </>\n    );\n  }\n}\n\nexport default ProfileEdit;\n"]},"metadata":{},"sourceType":"module"}