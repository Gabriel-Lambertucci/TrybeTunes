{"ast":null,"code":"var _jsxFileName = \"/home/gabriel/Trybe/Projetos/Projeto 11 - Trybe Tunes/sd-018-b-project-trybetunes/src/pages/Favorites.js\";\nimport React, { Component } from 'react';\nimport Header from '../components/Header';\nimport { getFavoriteSongs, removeSong } from '../services/favoriteSongsAPI';\nimport MusicCard from '../components/MusicCard';\nimport '../Style/Favorites.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst carregando = 'Carregando...';\n\nclass Favorites extends Component {\n  constructor() {\n    super();\n\n    this.onChangeHandler = async (__target, ApiResult) => {\n      this.setState({\n        loading: carregando\n      });\n      await removeSong(ApiResult);\n      const result = await getFavoriteSongs();\n      this.setState({\n        ApiResult: result,\n        loading: 'off'\n      });\n    };\n\n    this.onClickHandler = async () => {\n      this.setState({\n        loading: carregando\n      });\n      const result = await getFavoriteSongs();\n      this.favoritesArray.push(result);\n      console.log(this.favoritesArray);\n      this.favoritesArray.forEach(async item => removeSong(item));\n      this.setState({\n        ApiResult: result,\n        loading: 'off'\n      });\n    };\n\n    this.favoritesArray = [];\n    this.state = {\n      ApiResult: [],\n      loading: ''\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({\n      loading: carregando\n    });\n    const result = await getFavoriteSongs();\n    this.setState({\n      ApiResult: result,\n      loading: 'off'\n    });\n  }\n\n  showFavoriteSongs() {\n    const {\n      loading,\n      ApiResult\n    } = this.state;\n\n    if (loading === 'off') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"page-favorites\",\n        \"data-testid\": \"page-favorites\",\n        children: [ApiResult.lenght !== 0 ? ApiResult.map((item, index) => /*#__PURE__*/_jsxDEV(MusicCard, {\n          ApiObject: item,\n          trackId: item.trackId,\n          trackName: item.trackName,\n          previewUrl: item.previewUrl,\n          onChange: this.onChangeHandler,\n          checked: \"checked\"\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this)) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"remove-favorites-button\",\n          type: \"button\",\n          onClick: this.onClickHandler,\n          children: \"Remover favoritas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (loading === '' || loading === carregando) {\n      return /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Carregando...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 14\n      }, this);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), this.showFavoriteSongs()]\n    }, void 0, true);\n  }\n\n}\n\nexport default Favorites;","map":{"version":3,"sources":["/home/gabriel/Trybe/Projetos/Projeto 11 - Trybe Tunes/sd-018-b-project-trybetunes/src/pages/Favorites.js"],"names":["React","Component","Header","getFavoriteSongs","removeSong","MusicCard","carregando","Favorites","constructor","onChangeHandler","__target","ApiResult","setState","loading","result","onClickHandler","favoritesArray","push","console","log","forEach","item","state","componentDidMount","showFavoriteSongs","lenght","map","index","trackId","trackName","previewUrl","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Header from '../components/Header';\nimport { getFavoriteSongs, removeSong } from '../services/favoriteSongsAPI';\nimport MusicCard from '../components/MusicCard';\nimport '../Style/Favorites.css';\n\nconst carregando = 'Carregando...';\n\nclass Favorites extends Component {\n  constructor() {\n    super();\n    this.favoritesArray = [];\n    this.state = {\n      ApiResult: [],\n      loading: '',\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({ loading: carregando });\n    const result = await getFavoriteSongs();\n    this.setState({ ApiResult: result, loading: 'off' });\n  }\n\n  onChangeHandler = async (__target, ApiResult) => {\n    this.setState({ loading: carregando });\n    await removeSong(ApiResult);\n    const result = await getFavoriteSongs();\n    this.setState({ ApiResult: result, loading: 'off' });\n  }\n\n  onClickHandler = async () => {\n    this.setState({ loading: carregando });\n    const result = await getFavoriteSongs();\n    this.favoritesArray.push(result);\n    console.log(this.favoritesArray);\n    this.favoritesArray.forEach(async (item) => removeSong(item));\n    this.setState({ ApiResult: result, loading: 'off' });\n  }\n\n  showFavoriteSongs() {\n    const { loading, ApiResult } = this.state;\n    if (loading === 'off') {\n      return (\n        <div id=\"page-favorites\" data-testid=\"page-favorites\">\n          {ApiResult.lenght !== 0\n            ? ApiResult.map((item, index) => (\n              <MusicCard\n                ApiObject={ item }\n                trackId={ item.trackId }\n                key={ index }\n                trackName={ item.trackName }\n                previewUrl={ item.previewUrl }\n                onChange={ this.onChangeHandler }\n                checked=\"checked\"\n              />)) : null }\n          <button\n            id=\"remove-favorites-button\"\n            type=\"button\"\n            onClick={ this.onClickHandler }\n          >\n            Remover favoritas\n          </button>\n        </div>\n      );\n    }\n    if (loading === '' || loading === carregando) {\n      return <h2>Carregando...</h2>;\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <Header />\n        {this.showFavoriteSongs()}\n      </>\n    );\n  }\n}\n\nexport default Favorites;\n"]},"metadata":{},"sourceType":"module"}