{"ast":null,"code":"var _jsxFileName = \"/home/gabriel/Trybe/Projetos/Projeto 11 - Trybe Tunes/sd-018-b-project-trybetunes/src/pages/Favorites.js\";\nimport React, { Component } from 'react';\nimport Header from '../components/Header';\nimport { getFavoriteSongs, removeSong } from '../services/favoriteSongsAPI';\nimport MusicCard from '../components/MusicCard';\nimport '../Style/Favorites.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst carregando = 'Carregando...';\n\nclass Favorites extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      ApiResult: [],\n      loading: ''\n    };\n\n    this.onChangeHandler = async (__target, ApiResult) => {\n      this.setState({\n        loading: carregando\n      });\n      await removeSong(ApiResult);\n      const result = await getFavoriteSongs();\n      this.setState({\n        ApiResult: result,\n        loading: 'off'\n      });\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({\n      loading: carregando\n    });\n    const result = await getFavoriteSongs();\n    this.setState({\n      ApiResult: result,\n      loading: 'off'\n    });\n  }\n\n  showFavoriteSongs() {\n    const {\n      loading,\n      ApiResult\n    } = this.state;\n\n    if (loading === 'off') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"page-favorites\",\n        \"data-testid\": \"page-favorites\",\n        children: ApiResult.lenght !== 0 ? ApiResult.map((item, index) => /*#__PURE__*/_jsxDEV(MusicCard, {\n          ApiObject: item,\n          trackId: item.trackId,\n          trackName: item.trackName,\n          previewUrl: item.previewUrl,\n          onChange: this.onChangeHandler,\n          checked: \"checked\"\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 15\n        }, this)) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (loading === '' || loading === carregando) {\n      return /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Carregando...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 14\n      }, this);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), this.showFavoriteSongs()]\n    }, void 0, true);\n  }\n\n}\n\nexport default Favorites;","map":{"version":3,"sources":["/home/gabriel/Trybe/Projetos/Projeto 11 - Trybe Tunes/sd-018-b-project-trybetunes/src/pages/Favorites.js"],"names":["React","Component","Header","getFavoriteSongs","removeSong","MusicCard","carregando","Favorites","state","ApiResult","loading","onChangeHandler","__target","setState","result","componentDidMount","showFavoriteSongs","lenght","map","item","index","trackId","trackName","previewUrl","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,gBAAT,EAA2BC,UAA3B,QAA6C,8BAA7C;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAO,wBAAP;;;AAEA,MAAMC,UAAU,GAAG,eAAnB;;AAEA,MAAMC,SAAN,SAAwBN,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAChCO,KADgC,GACxB;AACNC,MAAAA,SAAS,EAAE,EADL;AAENC,MAAAA,OAAO,EAAE;AAFH,KADwB;;AAAA,SAYhCC,eAZgC,GAYd,OAAOC,QAAP,EAAiBH,SAAjB,KAA+B;AAC/C,WAAKI,QAAL,CAAc;AAAEH,QAAAA,OAAO,EAAEJ;AAAX,OAAd;AACA,YAAMF,UAAU,CAACK,SAAD,CAAhB;AACA,YAAMK,MAAM,GAAG,MAAMX,gBAAgB,EAArC;AACA,WAAKU,QAAL,CAAc;AAAEJ,QAAAA,SAAS,EAAEK,MAAb;AAAqBJ,QAAAA,OAAO,EAAE;AAA9B,OAAd;AACD,KAjB+B;AAAA;;AAMT,QAAjBK,iBAAiB,GAAG;AACxB,SAAKF,QAAL,CAAc;AAAEH,MAAAA,OAAO,EAAEJ;AAAX,KAAd;AACA,UAAMQ,MAAM,GAAG,MAAMX,gBAAgB,EAArC;AACA,SAAKU,QAAL,CAAc;AAAEJ,MAAAA,SAAS,EAAEK,MAAb;AAAqBJ,MAAAA,OAAO,EAAE;AAA9B,KAAd;AACD;;AASDM,EAAAA,iBAAiB,GAAG;AAClB,UAAM;AAAEN,MAAAA,OAAF;AAAWD,MAAAA;AAAX,QAAyB,KAAKD,KAApC;;AACA,QAAIE,OAAO,KAAK,KAAhB,EAAuB;AACrB,0BACE;AAAK,QAAA,EAAE,EAAC,gBAAR;AAAyB,uBAAY,gBAArC;AAAA,kBACGD,SAAS,CAACQ,MAAV,KAAqB,CAArB,GACGR,SAAS,CAACS,GAAV,CAAc,CAACC,IAAD,EAAOC,KAAP,kBACd,QAAC,SAAD;AACE,UAAA,SAAS,EAAGD,IADd;AAEE,UAAA,OAAO,EAAGA,IAAI,CAACE,OAFjB;AAIE,UAAA,SAAS,EAAGF,IAAI,CAACG,SAJnB;AAKE,UAAA,UAAU,EAAGH,IAAI,CAACI,UALpB;AAME,UAAA,QAAQ,EAAG,KAAKZ,eANlB;AAOE,UAAA,OAAO,EAAC;AAPV,WAGQS,KAHR;AAAA;AAAA;AAAA;AAAA,gBADA,CADH,GAUU;AAXb;AAAA;AAAA;AAAA;AAAA,cADF;AAeD;;AACD,QAAIV,OAAO,KAAK,EAAZ,IAAkBA,OAAO,KAAKJ,UAAlC,EAA8C;AAC5C,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACD;AACF;;AAEDkB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,8BACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cADF,EAEG,KAAKR,iBAAL,EAFH;AAAA,oBADF;AAMD;;AAlD+B;;AAqDlC,eAAeT,SAAf","sourcesContent":["import React, { Component } from 'react';\nimport Header from '../components/Header';\nimport { getFavoriteSongs, removeSong } from '../services/favoriteSongsAPI';\nimport MusicCard from '../components/MusicCard';\nimport '../Style/Favorites.css'\n\nconst carregando = 'Carregando...';\n\nclass Favorites extends Component {\n  state = {\n    ApiResult: [],\n    loading: '',\n  };\n\n  async componentDidMount() {\n    this.setState({ loading: carregando });\n    const result = await getFavoriteSongs();\n    this.setState({ ApiResult: result, loading: 'off' });\n  }\n\n  onChangeHandler = async (__target, ApiResult) => {\n    this.setState({ loading: carregando });\n    await removeSong(ApiResult);\n    const result = await getFavoriteSongs();\n    this.setState({ ApiResult: result, loading: 'off' });\n  }\n\n  showFavoriteSongs() {\n    const { loading, ApiResult } = this.state;\n    if (loading === 'off') {\n      return (\n        <div id=\"page-favorites\" data-testid=\"page-favorites\">\n          {ApiResult.lenght !== 0\n            ? ApiResult.map((item, index) => (\n              <MusicCard\n                ApiObject={ item }\n                trackId={ item.trackId }\n                key={ index }\n                trackName={ item.trackName }\n                previewUrl={ item.previewUrl }\n                onChange={ this.onChangeHandler }\n                checked=\"checked\"\n              />)) : null }\n        </div>\n      );\n    }\n    if (loading === '' || loading === carregando) {\n      return <h2>Carregando...</h2>;\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <Header />\n        {this.showFavoriteSongs()}\n      </>\n    );\n  }\n}\n\nexport default Favorites;\n"]},"metadata":{},"sourceType":"module"}